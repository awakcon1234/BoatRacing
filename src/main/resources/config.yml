prefix: "&6[BoatRacing] "
player-actions:
  # Allow non-admin players to perform these actions
  allow-set-boat: true
  allow-set-number: true
racing:
  laps: 3
  registration-seconds: 30

  dashboard:
    # How often to update the in-boat dashboard TextDisplay (in server ticks).
    # Lower = tighter rotation lock, higher = less CPU.
    # Recommended: 1
    update-ticks: 1

    # Number of segments in the dashboard speed bar.
    # Higher = finer resolution, but slightly wider HUD.
    # Recommended: 30
    bar-cells: 30

  # Debug toggles (logs to console). Keep these off unless troubleshooting.
  debug:
    teleport: false
    checkpoints: false
    # Logs dashboard follow/rotation diagnostics (rate-limited, once per second per racer).
    dashboard: false
    # Logs per-second drift/rotation deltas during the 10s start countdown freeze.
    countdown-freeze: false
    # Logs chosen boat type and spawned entity type.
    boat-selection: false

  countdown:
    barrier:
      # Place temporary barrier blocks in front of boats during the start countdown.
      enabled: true

  # After everyone finishes, keep the results visible for this many seconds, then cleanup.
  post-finish-cleanup-seconds: 15
  # Time penalty applied if a racer moves forward before the countdown ends (in seconds)
  false-start-penalty-seconds: 3.0
  # Enable/disable false start penalty during the light countdown
  enable-false-start-penalty: true
  # Delay between all 5 lights lit and 'lights out' (seconds); allows a brief suspense before GO
  lights-out-delay-seconds: 1.0
  # Optional random jitter added on top of the delay (random between 0 and this value)
  lights-out-jitter-seconds: 0.0

  # Scoreboard & ActionBar customization
  ui:
    # How often to update scoreboard + actionbar (in server ticks). Lower = faster but more CPU.
    # Recommended: 5 (0.25s) or 10 (0.5s)
    update-ticks: 5
    # Customizable scoreboard templates (MiniMessage + PlaceholderAPI + internal %placeholders%).
    # IMPORTANT: internal placeholders use the %name% format.
    #
    # Common player placeholders (most contexts):
    #   %racer_name% %racer_display% %racer_color% %icon% %number%
    # Lobby-only: %completed% %wins% %time_raced%
    #
    # Waiting: %track% %laps% %joined% %max% %countdown%
    # Racing: %track% %timer% %lap_current% %lap_total% %position% %joined% %progress% %progress_int% %checkpoint_passed% %checkpoint_total%
    # Completed (finished racers): %finish_pos% %finish_time% (plus %racer_display%)
    # Ended (everyone finished): also provides %delta_time%
    templates:
      lobby:
        title: "<gold>BoatRacing"
        lines:
          - "<yellow>Hồ sơ của bạn"
          - "<gray>Tên: %racer_display%"
          - "<gray>Màu: <white>%racer_color%"
          - "<gray>Biểu tượng: <white>%icon%"
          - "<gray>Số đua: <white>%number%"
          - "<yellow>Thành tích"
          - "<gray>Hoàn thành: <white>%completed%"
          - "<gray>Chiến thắng: <white>%wins%"
          - "<gray>Thời gian đã đua: <white>%time_raced%"
      waiting:
        title: "<gold>Đang chờ"
        lines:
          - "<yellow>Thông tin đường"
          - "<gray>Đường: <white>%track%"
          - "<gray>Vòng: <white>%laps%"
          - "<gray>Người chơi: <white>%joined%/%max%"
          - "<yellow>Tay đua"
          - "<gray>Tên: %racer_display%"
          - "<gray>Màu: <white>%racer_color%"
          - "<gray>Biểu tượng: <white>%icon%"
          - "<gray>Số đua: <white>%number%"
          - "<gray>Bắt đầu: <white>%countdown%"
      racing:
        title: "<gold>Đang đua"
        lines:
          - "<gray>Đường: <white>%track%"
          - "<gray>Thời gian: <white>%timer%"
          - "<gray>Vòng: <white>%lap_current%/%lap_total%"
          - "<gray>Checkpoint: <white>%checkpoint_passed%/%checkpoint_total%"
          - "<gray>Vị trí: <white>%position%/%joined%"
          - "<gray>Tiến độ: <white>%progress%%"
      completed:
        title: "<gold>Kết quả"
        header:
          - "<yellow>Về đích"
        finished_line: "<white>%finish_pos%)</white> %racer_display%"
        finished_time_line: "<gray>  thời gian: <white>%finish_time%"
        unfinished_header: "<yellow>Đang đua"
        unfinished_line: "<white>%position%)</white> %racer_display%"
        unfinished_progress_line: "<gray>  tiến độ: <white>%progress%%"
        max_finished_lines: 8
        max_unfinished_lines: 6
      # Race ended (everyone finished): show full ordered results.
      # Placeholders:
      #   %finish_pos% %racer_name% %finish_time% %delta_time%
      ended:
        title: "<gold>Kết quả"
        header:
          - "<yellow>Kết quả"
        # #1 line (shows absolute time)
        winner_line: "<gold>#%finish_pos%</gold> %racer_display% <gray>●</gray> <white>%finish_time%"
        # Everyone else (shows +delta from #1)
        delta_line: "<yellow>#%finish_pos%</yellow> %racer_display% <gray>●</gray> <white>+%delta_time%"
      # ActionBar templates shown only while waiting and racing; supports MiniMessage and PlaceholderAPI
      actionbar:
        enabled: true
        # Waiting placeholders: %countdown% %joined% %max%
        waiting: "<yellow>Bắt đầu trong <white>%countdown%</white> ● <gray>%joined%/%max%</gray>"
        # Racing placeholders: %position% %racer_display% %lap_current% %lap_total% %progress% %progress_int% %speed% %speed_unit% %speed_bps% %speed_kmh% %speed_bph% %next_checkpoint% %checkpoint_passed% %checkpoint_total% %speed_color%
        # %speed% chooses unit based on scoreboard.speed.unit (bps|kmh). Example: <%speed_color%>%speed% %speed_unit%</%speed_color%>
        racing: "<gray>#%position%</gray> %racer_display% <white>%lap_current%/%lap_total%</white> <white>%checkpoint_passed%/%checkpoint_total%</white> <yellow>%progress%%</yellow> <%speed_color%>%speed% %speed_unit%</%speed_color%>"
        # Completed placeholders: %finish_pos% %racer_display% %finish_time% %avg_speed% %speed_unit% %speed_color%
        completed: "<gold>#%finish_pos%</gold> %racer_display% <gray>●</gray> <white>%finish_time%</white> <gray>●</gray> <%speed_color%>%avg_speed% %speed_unit%</%speed_color%>"

# Speed unit and color thresholds
scoreboard:
  speed:
    unit: kmh        # kmh | bps | bph
    # Preferred thresholds for chosen unit (integers).
    yellow_kmh: 5    # below this is red; between yellow and green is yellow
    green_kmh: 20    # at or above this is green
    # Thresholds for bps unit (blocks per second)
    yellow_bps: 2
    green_bps: 6
    # Thresholds for bph unit (blocks per hour)
    yellow_bph: 5000
    green_bph: 20000
    # Colors for tiers (MiniMessage color names). Global defaults + per-unit overrides.
    colors:
      low: red
      mid: yellow
      high: green
      bps:
        low: red
        mid: yellow
        high: green
      kmh:
        low: red
        mid: yellow
        high: green
      bph:
        low: red
        mid: yellow
        high: green

  # Registration announce message template
  # Placeholders: {track} = track name, {laps} = total laps, {cmd} = suggested join command
  registration-announce: "&eCuộc đua mới tại &f{track}&e (&f{laps}&e vòng). &7Tham gia bằng &f{cmd}"
